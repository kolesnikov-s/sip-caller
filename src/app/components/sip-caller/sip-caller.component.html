<audio #sound autoPlay></audio>
<audio #localAudio autoPlay muted></audio>
<audio #remoteAudio autoPlay></audio>

<div class="columns">
    <div class="col-6 col-md-6 col-sm-12">
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">
                    Settings
                </div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label class="form-label" for="wss-domain">Wss Domain</label>
                    <input [(ngModel)]="sipSettings.wssDomain" class="form-input" type="text" id="wss-domain"
                           placeholder="wss://domain/ws">
                </div>
                <div class="form-group">
                    <label class="form-label" for="identity">Identity</label>
                    <input [(ngModel)]="sipSettings.identity" class="form-input" type="text" id="identity"
                           placeholder="sip:bob@example.com">
                </div>
                <div class="form-group">
                    <label class="form-label" for="password">Password</label>
                    <input [(ngModel)]="sipSettings.password" id="password" type="password"
                           class="form-input" placeholder="Name">
                </div>

                <div class="connection-info">
                    <button (click)="connection()" class="btn btn-success btn-sm">Connection</button>
                    <span *ngIf="sipStatus"> {{sipStatus}} </span>
                </div>
            </div>

            <div class="panel-footer">
                <button (click)="saveSipSettings()" class="btn btn-primary btn-lg">Save</button>
            </div>
        </div>
    </div>
    <div class="col-6 col-md-6 col-sm-12">
        <div class="panel">
            <div class="panel-header">
                <div class="panel-title">
                    Web Phone
                </div>
            </div>
            <div class="panel-body">
                <div class="form-group">
                    <label class="form-label" for="phone">Phone</label>
                    <input [(ngModel)]="outgoingPhoneNumber" class="form-input" type="text" id="phone"
                           placeholder="sip:bob@example.com">
                </div>
            </div>
            <div class="panel-footer">
                <button (click)="outgoingCall()" class="btn btn-primary btn-lg">Call</button>
            </div>
        </div>
    </div>
</div>

<div *ngIf="isShowIncomingCall">
    <div class="modal modal-sm active">
        <a (click)="hangUp()" class="modal-overlay" aria-label="Close"></a>
        <div class="modal-container">
            <div class="modal-header">
                <a (click)="hangUp()" class="btn btn-clear float-right" aria-label="Close"></a>
                <div class="modal-title h5">Incoming Call</div>
            </div>
            <div class="modal-footer">
                <div class="incoming-call-actions">
                    <button (click)="acceptIncomingCall()" class="btn btn-success">Answer</button>
                    <button (click)="hangUp()" class="btn btn-error">Hang Up</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div *ngIf="isShowOutgoingCall">
    <div class="modal modal-sm active">
        <a (click)="hangUp()" class="modal-overlay" aria-label="Close"></a>
        <div class="modal-container">
            <div class="modal-header">
                <a (click)="hangUp()" class="btn btn-clear float-right" aria-label="Close"></a>
                <div class="modal-title h5">Outgoing Call</div>
            </div>
            <div class="modal-footer">
                <div class="incoming-call-actions">
                    <button (click)="hangUp()" class="btn btn-error">Hang Up</button>
                </div>
            </div>
        </div>
    </div>
</div>
